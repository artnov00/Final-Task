<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Nexus Gaming - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo">G4 NEXUS</a>
        <nav>
            <a href="index.html" class="active">InÃ­cio</a>
            <a href="produtos.html">Produtos</a>
            <a href="suporte.html">Suporte</a>
        </nav>
        <div style="display: flex; gap: 10px; align-items: center;">
            <div id="area-usuario"></div>
            <a href="carrinho.html" style="text-decoration:none; color:white;">
                ðŸ›’ <span id="contador-carrinho" style="background: red; border-radius: 50%; padding: 2px 6px; font-size: 12px;">0</span>
            </a>
        </div>
    </header>

    <div class="container">
        <div style="text-align: center; padding: 60px 0; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-1.2.1'); background-size: cover; border-radius: 10px; margin-bottom: 30px;">
            <h1>Nexus Gaming</h1>
            <p>Hardware e Games de Alta Performance</p>
            <br>
            <a href="produtos.html" class="botao-verde">Ver CatÃ¡logo</a>
        </div>

        <h2>Destaques</h2>
        <div id="destaques" class="grade-produtos">
            <!-- JS preenche aqui -->
            <p>Carregando destaques...</p>
        </div>
    </div>

    <script src="global.js"></script>
    <script>
        // LÃ³gica especÃ­fica da Home
        async function carregarDestaques() {
            try {
                const res = await fetch(`${API_URL}/produtos`);
                const produtos = await res.json();
                const container = document.getElementById('destaques');
                container.innerHTML = '';

                // Mostra apenas os 3 primeiros
                produtos.slice(0, 3).forEach(p => {
                    container.innerHTML += `
                        <div class="cartao-produto">
                            <img src="${p.imagemUrl || 'https://via.placeholder.com/150'}" alt="${p.nome}">
                            <h3>${p.nome}</h3>
                            <p class="preco">R$ ${p.preco.toFixed(2)}</p>
                            <button onclick='adicionarAoCarrinho(${JSON.stringify(p)})' class="botao-verde">+ Add</button>
                        </div>
                    `;
                });
            } catch (e) {
                console.error(e);
            }
        }
        carregarDestaques();
    </script>
</body>
</html>